# n8n 基本配置
N8N_PORT={{ n8n_port }}
N8N_PROTOCOL={{ n8n_protocol }}
N8N_HOST={{ n8n.domain }}
N8N_PATH=/
N8N_USER_FOLDER={{ n8n_data_dir }}

# 資料庫配置
DB_TYPE={{ n8n_db_type }}
DB_MYSQLDB_HOST={{ n8n_db_host | default('localhost') }}
DB_MYSQLDB_PORT={{ n8n_db_port }}
DB_MYSQLDB_DATABASE={{ n8n.db_name }}
DB_MYSQLDB_USER={{ n8n.db_user }}
DB_MYSQLDB_PASSWORD={{ n8n.db_password }}

# 基本認證配置
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER={{ n8n.basic_auth_user }}
N8N_BASIC_AUTH_PASSWORD={{ n8n.basic_auth_password }}

# Webhook 配置
N8N_WEBHOOK_URL=https://{{ n8n.domain }}

# 執行器配置
EXECUTIONS_PROCESS={{ n8n_execution_process }}
EXECUTIONS_MODE=regular
N8N_DIAGNOSTICS_ENABLED=false
GENERIC_TIMEZONE=Asia/Taipei

# 加密憑證
N8N_ENCRYPTION_KEY={{ n8n.encryption_key }}

# 日誌配置
N8N_LOG_LEVEL={{ n8n_log_level }}

# 記憶體限制
NODE_OPTIONS={{ n8n_node_options }}

# 其他優化設定
N8N_METRICS=false
N8N_HIRING_BANNER_ENABLED=false
N8N_VERSION_NOTIFICATIONS_ENABLED=false
N8N_TEMPLATES_HOST=https://api.n8n.io/
N8N_AI_ENABLED=true
{% if n8n_max_execution_processes %}
N8N_EXECUTIONS_PROCESS=main
N8N_EXECUTIONS_MAX_PROCESSES={{ n8n_max_execution_processes }}
{% endif %}
