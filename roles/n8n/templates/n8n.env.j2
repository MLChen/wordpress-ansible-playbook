# n8n 基本配置
N8N_PORT={{ n8n.port }}
N8N_PROTOCOL={{ n8n.protocol }}
N8N_HOST={{ n8n_web[0].domain }}
N8N_PATH=/
N8N_USER_FOLDER={{ n8n.data_dir }}

# 資料庫配置
DB_TYPE={{ n8n.db_type }}
DB_MYSQLDB_HOST={{ n8n_database[0].mysql_host }}
DB_MYSQLDB_PORT={{ n8n.db_port }}
DB_MYSQLDB_DATABASE={{ n8n_database[0].db_name }}
DB_MYSQLDB_USER={{ n8n_database[0].mysql_user }}
DB_MYSQLDB_PASSWORD={{ n8n_database[0].mysql_password }}

# 基本認證配置
N8N_BASIC_AUTH_ACTIVE={{ n8n.basic_auth_active | lower }}
N8N_BASIC_AUTH_USER={{ n8n.basic_auth_user }}
N8N_BASIC_AUTH_PASSWORD={{ n8n.basic_auth_password }}

# Webhook 配置
N8N_WEBHOOK_URL={{ n8n.webhook_url }}

# 執行器配置
EXECUTIONS_PROCESS={{ n8n.execution_process }}
EXECUTIONS_MODE=regular
N8N_DIAGNOSTICS_ENABLED=false
GENERIC_TIMEZONE=Asia/Taipei

# 加密憑證
N8N_ENCRYPTION_KEY={{ n8n.encryption_key }}

# 日誌配置
N8N_LOG_LEVEL={{ n8n.log_level }}

# 記憶體限制
NODE_OPTIONS={{ n8n.node_options }}

# Redis 配置 (用於提高性能)
QUEUE_BULL_REDIS_HOST=localhost
QUEUE_BULL_REDIS_PORT=6379
QUEUE_BULL_REDIS_DB=0
# QUEUE_BULL_REDIS_PASSWORD=

# 其他優化設定
N8N_METRICS=false
N8N_HIRING_BANNER_ENABLED=false
N8N_VERSION_NOTIFICATIONS_ENABLED=false
N8N_TEMPLATES_HOST=https://api.n8n.io/
N8N_AI_ENABLED=true
{% if n8n_max_execution_processes %}
N8N_EXECUTIONS_PROCESS=main
N8N_EXECUTIONS_MAX_PROCESSES={{ n8n_max_execution_processes }}
{% endif %}
