# /etc/mysql/my.cnf

[mysqld]
user            = mysql
pid-file        = /var/run/mysqld/mysqld.pid
socket          = /var/run/mysqld/mysqld.sock
port            = 3306
basedir         = /usr
datadir         = /var/lib/mysql
tmpdir          = /tmp
lc-messages-dir = /usr/share/mysql
skip-external-locking

# Network settings
bind-address        = 127.0.0.1
# bind-address        = 0.0.0.0
mysqlx-bind-address = 127.0.0.1
max_connections     = 200

# Memory settings
key_buffer_size                 = 64M
max_allowed_packet              = 256M
thread_stack                    = 256K
thread_cache_size               = 16
innodb_buffer_pool_size         = 512M
innodb_redo_log_capacity        = 128M
innodb_flush_method             = O_DIRECT
innodb_flush_log_at_trx_commit  = 2

# General settings
myisam-recover-options  = BACKUP
table_open_cache        = 128   
log_error = /var/log/mysql/error.log
slow_query_log = 1
slow_query_log_file = /var/log/mysql/mysql-slow.log
long_query_time = 2

max_allowed_packet = 32M

max_binlog_size             = 100M
binlog_expire_logs_seconds  = 604800 

[mysqldump]
quick
quote-names
max_allowed_packet      = 256M

[mysql]

[isamchk]
key_buffer              = 64M

[client]
default-character-set   = utf8mb4